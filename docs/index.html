<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>BEYOND ARRAYS</title>
  <meta name="description" content="BEYOND ARRAYS" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="BEYOND ARRAYS" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="BEYOND ARRAYS" />
  
  
  

<meta name="author" content="Guillaume Baggio" />


<meta name="date" content="2023-05-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="introduction.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Beyond Arrays</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#dowscalling-climate-data"><i class="fa fa-check"></i><b>1.1</b> Dowscalling climate data</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#local-data-means-more-data"><i class="fa fa-check"></i><b>1.2</b> Local data means more data</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="building-a-function-with-xarray.html"><a href="building-a-function-with-xarray.html"><i class="fa fa-check"></i><b>2</b> Building a function with <em>xarray</em></a>
<ul>
<li class="chapter" data-level="2.1" data-path="building-a-function-with-xarray.html"><a href="building-a-function-with-xarray.html#creating-a-function-with-xarray"><i class="fa fa-check"></i><b>2.1</b> Creating a function with Xarray</a></li>
<li class="chapter" data-level="2.2" data-path="building-a-function-with-xarray.html"><a href="building-a-function-with-xarray.html#calculating-the-multi-model-ensemble-mean"><i class="fa fa-check"></i><b>2.2</b> Calculating the multi-model ensemble mean</a></li>
<li class="chapter" data-level="2.3" data-path="building-a-function-with-xarray.html"><a href="building-a-function-with-xarray.html#calculating-autocorrelation-lag-1"><i class="fa fa-check"></i><b>2.3</b> Calculating autocorrelation lag-1</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dask-arrays-and-parallel-calculation.html"><a href="dask-arrays-and-parallel-calculation.html"><i class="fa fa-check"></i><b>3</b> <em>Dask</em> arrays and parallel calculation</a></li>
<li class="chapter" data-level="4" data-path="impacts-of-climate-on-agricultural-conditions.html"><a href="impacts-of-climate-on-agricultural-conditions.html"><i class="fa fa-check"></i><b>4</b> Impacts of climate on agricultural conditions</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">BEYOND ARRAYS</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">BEYOND ARRAYS</h1>
<h2 class="subtitle"><em>Finding solutions to work with high-definition multi-dimensional climate data</em></h2>
<p class="author"><em>Guillaume Baggio</em></p>
<p class="date"><em>2023-05-04</em></p>
</div>
<div id="preface" class="section level1 unnumbered hasAnchor">
<h1>Preface<a href="index.html#preface" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Reliable climate data are crucial for various activities, including agriculture, energy production, transportation, and disaster preparedness. However, obtaining and processing high-definition climate data can pose significant challenges due to the computational time and data complexity involved. High-definition climate data sets are typically large and complex, containing multiple variables, temporal and spatial resolutions, and formats. Processing these data often requires significant computing power and storage resources, which can be expensive and time-consuming. Moreover, the process of cleaning, quality-checking, and preprocessing data to ensure their accuracy and consistency adds to the challenge of using high-definition multi-dimensional climate data.</p>
<p>One approach to addressing these challenges is through the use of Python packages such as Xarray and Dask. <em>Xarray</em> is an open-source library designed for working with labelled multi-dimensional arrays, such as climate data. It provides an advanced interface for data manipulation and statistical analysis and allows for efficient data indexing, selection, and aggregation with minimal memory usage. <em>Dask</em> is a parallel computing library that enables scalable and efficient computation of large-scale data sets. By using these packages together, researchers and climate experts can better manage and analyze climate data. Essentially, they enable users to handle large datasets that would otherwise exceed the memory capacity of their machines by distributing computations across multiple cores or even multiple machines.</p>
<p>In addition to the challenges of working with high-definition climate data, the capacity of <em>Xarray</em> to handle multi-dimensional data and integrate it with other scientific computing packages makes it useful for exploring complex relationships between climate, socioeconomic, financial, and demographic data. For instance, by combining climate data with socioeconomic data, researchers can explore how changes in climate patterns, such as increased temperatures or changes in precipitation, could affect vulnerable populations, such as low-income communities. This analysis can provide insights into the potential economic, health, and social impacts of climate change. By integrating climate data with other types of financial data, climate change impact assessments can help policymakers, businesses, and community members to understand the potential financial risks associated with climate change and develop effective strategies for addressing them.</p>
<p>However, working with emerging Python packages, such as <em>Xarray</em> and <em>Dask</em>, can also present some challenges. These packages often require a certain level of technical expertise and may have a steeper learning curve compared to more traditional data processing tools. Additionally, debugging errors or performance issues can be more difficult with these packages, as they are still in active development and may have limited documentation or support. Incorporating these tools into existing workflows and processes may also require significant adjustments and changes to established practices.</p>
<p>To contribute to this effort, this document shares some of my learnings from working with high-definition multi-dimensional climate data. As I continue to work with Xarray and Dask, this document will be updated and expanded to provide more insights and practical solutions for working with these packages. <a href="introduction.html#introduction">Chapter 1</a> introduces some of the challenges experienced by climate experts using high-resolution climate data and discusses the importance of array programming. <a href="#building-a-function-in-xarray">Chapter 2</a> provides a step-by-step guide to building a <em>Xarray</em> function that enables parallel execution of calculations with <em>Dask</em>. For now, this document only presents a function that calculates the lag-1 autocorrelation and e-folding time of daily temperature, but more functions will be added in the future.</p>
<p>Finally, for anyone curious, the title of this document is a reference to my amusement and intrigue with the potential of <em>Xarray</em> and <em>Dask</em> to go beyond traditional array programming. With the right technical skills and a willingness to try new approaches, my goal is to contribute to these powerful climate analysis toolkits. You can also reach out to me at <a href="mailto:guillaume.baggio@mail.utoronto.ca" class="email">guillaume.baggio@mail.utoronto.ca</a>.</p>
<!-- # About -->
<!-- This is a _sample_ book written in **Markdown**. You can use anything that Pandoc's Markdown supports; for example, a math equation $a^2 + b^2 + c^2 = d^2 + f^2 + g^2$. -->
<!-- This second paragraph is also a test. -->
<!-- ## Usage  -->
<!-- Each **bookdown** chapter is an .Rmd file, and each .Rmd file can contain one (and only one) chapter. A chapter *must* start with a first-level heading: `# A good chapter`, and can contain one (and only one) first-level heading. -->
<!-- Use second-level and higher headings within chapters like: `## A short section` or `### An even shorter section`. -->
<!-- The `index.Rmd` file is required, and is also your first book chapter. It will be the homepage when you render the book. -->
<!-- ## Render book -->
<!-- You can render the HTML version of this example book without changing anything: -->
<!-- 1. Find the **Build** pane in the RStudio IDE, and -->
<!-- 1. Click on **Build Book**, then select your output format, or select "All formats" if you'd like to use multiple formats from the same book source files. -->
<!-- Or build the book from the R console: -->
<!-- ```{r, eval=FALSE} -->
<!-- bookdown::render_book() -->
<!-- ``` -->
<!-- To render this example to PDF as a `bookdown::pdf_book`, you'll need to install XeLaTeX. You are recommended to install TinyTeX (which includes XeLaTeX): <https://yihui.org/tinytex/>. -->
<!-- ## Preview book -->
<!-- As you work, you may start a local server to live preview this HTML book. This preview will update as you edit the book when you save individual .Rmd files. You can start the server in a work session by using the RStudio add-in "Preview book", or from the R console: -->
<!-- ```{r eval=FALSE} -->
<!-- bookdown::serve_book() -->
<!-- ``` -->
<!-- ```{r include=FALSE} -->
<!-- # automatically create a bib database for R packages -->
<!-- knitr::write_bib(c( -->
<!--   .packages(), 'bookdown', 'knitr', 'rmarkdown' -->
<!-- ), 'packages.bib') -->
<!-- ``` -->

</div>
            </section>

          </div>
        </div>
      </div>

<a href="introduction.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
